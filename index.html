<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imperial GTA Allocator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide icons as SVG components
        const Calendar = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const Users = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Settings = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6m-6-6H0m6 0h6m6 0h6"></path>
            </svg>
        );

        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        );

        const AlertCircle = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
        );

        const Download = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        );

        // Simple localStorage-based storage for browser compatibility
        const storage = {
            async get(key) {
                const value = localStorage.getItem(key);
                return value ? { value } : null;
            },
            async set(key, value) {
                localStorage.setItem(key, value);
                return { key, value };
            },
            async delete(key) {
                localStorage.removeItem(key);
                return { key, deleted: true };
            }
        };

        const GTAAllocator = () => {
            const [view, setView] = useState('student');
            const [isAdminAuthenticated, setIsAdminAuthenticated] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');
            const [studentName, setStudentName] = useState('');
            const [studentEmail, setStudentEmail] = useState('');
            const [practicals, setPracticals] = useState([]);
            const [preferences, setPreferences] = useState([]);
            const [submissions, setSubmissions] = useState([]);
            const [allocations, setAllocations] = useState([]);
            const [submissionWindow, setSubmissionWindow] = useState({ open: true, deadline: '2025-02-17' });
            const [maxSlotsPerStudent, setMaxSlotsPerStudent] = useState(3);
            
            // Admin password stored as reversed base64 to deter casual snooping
            const getAdminPassword = () => atob('==QNyAjMTBFR'.split('').reverse().join(''));

            useEffect(() => {
                const loadData = async () => {
                    try {
                        const [practicalsData, submissionsData, allocationsData, windowData, maxSlotsData] = await Promise.all([
                            storage.get('practicals').catch(() => null),
                            storage.get('submissions').catch(() => null),
                            storage.get('allocations').catch(() => null),
                            storage.get('submissionWindow').catch(() => null),
                            storage.get('maxSlotsPerStudent').catch(() => null)
                        ]);

                        if (practicalsData) setPracticals(JSON.parse(practicalsData.value));
                        if (submissionsData) setSubmissions(JSON.parse(submissionsData.value));
                        if (allocationsData) setAllocations(JSON.parse(allocationsData.value));
                        if (windowData) setSubmissionWindow(JSON.parse(windowData.value));
                        if (maxSlotsData) setMaxSlotsPerStudent(parseInt(maxSlotsData.value));
                    } catch (error) {
                        console.error('Error loading data:', error);
                    }
                };
                loadData();
            }, []);

            const saveData = async (key, data) => {
                try {
                    await storage.set(key, JSON.stringify(data));
                } catch (error) {
                    console.error(`Error saving ${key}:`, error);
                }
            };

            const addPractical = (practical) => {
                const newPracticals = [...practicals, { ...practical, id: Date.now().toString() }];
                setPracticals(newPracticals);
                saveData('practicals', newPracticals);
            };

            const deletePractical = (id) => {
                const newPracticals = practicals.filter(p => p.id !== id);
                setPracticals(newPracticals);
                saveData('practicals', newPracticals);
            };

            const submitPreferences = async () => {
                if (!studentName || !studentEmail || preferences.length === 0) {
                    alert('Please fill in your name, email, and select at least one preference');
                    return;
                }

                const submission = {
                    id: Date.now().toString(),
                    name: studentName,
                    email: studentEmail,
                    preferences: preferences,
                    timestamp: new Date().toISOString(),
                    previousHours: 0
                };

                const newSubmissions = [...submissions, submission];
                setSubmissions(newSubmissions);
                await saveData('submissions', newSubmissions);
                
                alert('Preferences submitted successfully!');
                setStudentName('');
                setStudentEmail('');
                setPreferences([]);
            };

            const runAllocation = () => {
                if (submissions.length === 0 || practicals.length === 0) {
                    alert('Need both practicals and student submissions to run allocation');
                    return;
                }

                const newAllocations = [];
                const studentAllocations = {};
                const practicalSlots = {};

                submissions.forEach(s => {
                    studentAllocations[s.email] = [];
                });
                practicals.forEach(p => {
                    practicalSlots[p.id] = p.slots;
                });

                const sortedSubmissions = [...submissions].sort((a, b) => 
                    (a.previousHours || 0) - (b.previousHours || 0)
                );

                for (let round = 0; round < maxSlotsPerStudent; round++) {
                    for (const submission of sortedSubmissions) {
                        if (studentAllocations[submission.email].length >= maxSlotsPerStudent) continue;

                        for (const prefId of submission.preferences) {
                            const practical = practicals.find(p => p.id === prefId);
                            
                            if (practical && 
                                practicalSlots[prefId] > 0 && 
                                !studentAllocations[submission.email].includes(prefId)) {
                                
                                newAllocations.push({
                                    studentEmail: submission.email,
                                    studentName: submission.name,
                                    practicalId: prefId,
                                    practicalName: practical.name,
                                    practicalDate: practical.date,
                                    round: round + 1,
                                    preferenceRank: submission.preferences.indexOf(prefId) + 1
                                });

                                studentAllocations[submission.email].push(prefId);
                                practicalSlots[prefId]--;
                                break;
                            }
                        }
                    }
                }

                setAllocations(newAllocations);
                saveData('allocations', newAllocations);
                alert(`Allocation complete! ${newAllocations.length} slots allocated.`);
            };

            const exportAllocations = () => {
                const csv = [
                    ['Student Name', 'Student Email', 'Practical', 'Date', 'Preference Rank', 'Allocation Round'],
                    ...allocations.map(a => [
                        a.studentName,
                        a.studentEmail,
                        a.practicalName,
                        a.practicalDate,
                        a.preferenceRank,
                        a.round
                    ])
                ].map(row => row.join(',')).join('\n');

                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'gta-allocations.csv';
                a.click();
            };

            const StudentView = () => {
                const deadlineDate = new Date(submissionWindow.deadline);
                const isBeforeDeadline = new Date() < deadlineDate;
                const isWindowOpen = submissionWindow.open && isBeforeDeadline;
                const myAllocations = allocations.filter(a => a.studentEmail === studentEmail);

                return (
                    <div className="max-w-4xl mx-auto p-6">
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <h2 className="text-2xl font-bold text-blue-900 mb-2">GTA Practical Allocation System</h2>
                            <p className="text-blue-700">
                                {isWindowOpen 
                                    ? `Submission window open until ${deadlineDate.toLocaleDateString()}`
                                    : !submissionWindow.open 
                                        ? 'Submission window is currently closed by administrator'
                                        : `Submission deadline has passed (was ${deadlineDate.toLocaleDateString()})`}
                            </p>
                        </div>

                        {isWindowOpen ? (
                            <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                                <h3 className="text-xl font-semibold mb-4">Submit Your Preferences</h3>
                                
                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2">Your Name</label>
                                    <input
                                        type="text"
                                        defaultValue={studentName}
                                        onBlur={(e) => setStudentName(e.target.value)}
                                        className="w-full p-2 border rounded"
                                        placeholder="Full name"
                                    />
                                </div>

                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2">Your Email</label>
                                    <input
                                        type="email"
                                        defaultValue={studentEmail}
                                        onBlur={(e) => setStudentEmail(e.target.value)}
                                        className="w-full p-2 border rounded"
                                        placeholder="your.email@imperial.ac.uk"
                                    />
                                </div>

                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2">
                                        Rank Your Preferences (click to select, max {maxSlotsPerStudent} selections)
                                    </label>
                                    <div className="space-y-2">
                                        {practicals.map(practical => {
                                            const isSelected = preferences.includes(practical.id);
                                            const rank = preferences.indexOf(practical.id) + 1;
                                            
                                            return (
                                                <div
                                                    key={practical.id}
                                                    onClick={() => {
                                                        if (isSelected) {
                                                            setPreferences(preferences.filter(id => id !== practical.id));
                                                        } else if (preferences.length < maxSlotsPerStudent) {
                                                            setPreferences([...preferences, practical.id]);
                                                        }
                                                    }}
                                                    className={`p-3 border rounded cursor-pointer transition ${
                                                        isSelected 
                                                            ? 'bg-blue-100 border-blue-500' 
                                                            : 'bg-gray-50 hover:bg-gray-100'
                                                    }`}
                                                >
                                                    <div className="flex justify-between items-center">
                                                        <div>
                                                            <div className="font-medium">{practical.name}</div>
                                                            <div className="text-sm text-gray-600">
                                                                {new Date(practical.date).toLocaleDateString()} • {practical.slots} slots available
                                                            </div>
                                                        </div>
                                                        {isSelected && (
                                                            <div className="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
                                                                {rank}
                                                            </div>
                                                        )}
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {preferences.length > 0 && (
                                    <div className="mb-4 p-3 bg-green-50 border border-green-200 rounded">
                                        <div className="font-medium text-green-900 mb-2">Your ranked preferences:</div>
                                        <ol className="list-decimal list-inside text-green-800">
                                            {preferences.map((prefId, idx) => {
                                                const practical = practicals.find(p => p.id === prefId);
                                                return <li key={prefId}>{practical?.name}</li>;
                                            })}
                                        </ol>
                                    </div>
                                )}

                                <button
                                    onClick={submitPreferences}
                                    className="w-full bg-blue-600 text-white py-3 rounded font-medium hover:bg-blue-700"
                                >
                                    Submit Preferences
                                </button>
                            </div>
                        ) : (
                            <div className="bg-gray-50 border border-gray-200 rounded-lg p-6 text-center">
                                <AlertCircle className="mx-auto mb-2 text-gray-400" size={48} />
                                <p className="text-gray-600">The submission window is currently closed.</p>
                            </div>
                        )}

                        {myAllocations.length > 0 && (
                            <div className="bg-white rounded-lg shadow-md p-6 mt-6">
                                <h3 className="text-xl font-semibold mb-4 flex items-center">
                                    <CheckCircle className="mr-2 text-green-600" />
                                    Your Allocated Practicals
                                </h3>
                                <div className="space-y-2">
                                    {myAllocations.map((alloc, idx) => (
                                        <div key={idx} className="p-3 bg-green-50 border border-green-200 rounded">
                                            <div className="font-medium">{alloc.practicalName}</div>
                                            <div className="text-sm text-gray-600">
                                                {new Date(alloc.practicalDate).toLocaleDateString()} • 
                                                Preference rank: {alloc.preferenceRank}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            const AdminView = () => {
                const [newPractical, setNewPractical] = useState({ name: '', date: '', slots: 5 });

                if (!isAdminAuthenticated) {
                    // Use browser's built-in prompt - this always works!
                    const checkPassword = () => {
                        const password = prompt('Enter admin password:');
                        if (password === getAdminPassword()) {
                            setIsAdminAuthenticated(true);
                        } else if (password !== null) {
                            alert('Incorrect password');
                        }
                    };

                    // Automatically show prompt when admin view is selected
                    setTimeout(checkPassword, 100);

                    return (
                        <div className="max-w-md mx-auto p-6 mt-20">
                            <div className="bg-white rounded-lg shadow-md p-8 text-center">
                                <h2 className="text-2xl font-bold text-purple-900 mb-4">Admin Login Required</h2>
                                <p className="text-gray-600 mb-4">You'll be prompted for the admin password.</p>
                                <button
                                    onClick={checkPassword}
                                    className="bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700"
                                >
                                    Enter Password
                                </button>
                                <p className="text-sm text-gray-500 mt-4">
                                    Password: DPS2025 • Contact DPS if you need help
                                </p>
                            </div>
                        </div>
                    );
                }

                return (
                    <div className="max-w-6xl mx-auto p-6">
                        <div className="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6">
                            <div className="flex justify-between items-center">
                                <div>
                                    <h2 className="text-2xl font-bold text-purple-900 mb-2">Admin Dashboard</h2>
                                    <p className="text-purple-700">Manage practicals and run allocations</p>
                                </div>
                                <button
                                    onClick={() => {
                                        setIsAdminAuthenticated(false);
                                        setView('student');
                                    }}
                                    className="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700"
                                >
                                    Logout
                                </button>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">System Settings</h3>
                            
                            <div className="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label className="block text-sm font-medium mb-2">Submission Deadline</label>
                                    <input
                                        type="date"
                                        value={submissionWindow.deadline}
                                        onChange={(e) => {
                                            const newWindow = { ...submissionWindow, deadline: e.target.value };
                                            setSubmissionWindow(newWindow);
                                            saveData('submissionWindow', newWindow);
                                        }}
                                        className="w-full p-2 border rounded"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">Max Slots per Student</label>
                                    <input
                                        type="number"
                                        min="1"
                                        max="10"
                                        value={maxSlotsPerStudent}
                                        onChange={(e) => {
                                            const val = parseInt(e.target.value);
                                            setMaxSlotsPerStudent(val);
                                            saveData('maxSlotsPerStudent', val);
                                        }}
                                        className="w-full p-2 border rounded"
                                    />
                                </div>
                            </div>

                            <div className="flex items-center space-x-2">
                                <input
                                    type="checkbox"
                                    checked={submissionWindow.open}
                                    onChange={(e) => {
                                        const newWindow = { ...submissionWindow, open: e.target.checked };
                                        setSubmissionWindow(newWindow);
                                        saveData('submissionWindow', newWindow);
                                    }}
                                    className="w-5 h-5"
                                />
                                <label className="font-medium">Submission window open</label>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">Add Practical</h3>
                            
                            <div className="grid grid-cols-3 gap-4 mb-4">
                                <div>
                                    <label className="block text-sm font-medium mb-2">Practical Name</label>
                                    <input
                                        type="text"
                                        value={newPractical.name}
                                        onChange={(e) => setNewPractical({ ...newPractical, name: e.target.value })}
                                        className="w-full p-2 border rounded"
                                        placeholder="e.g., Genetics Lab Week 3"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">Date</label>
                                    <input
                                        type="date"
                                        value={newPractical.date}
                                        onChange={(e) => setNewPractical({ ...newPractical, date: e.target.value })}
                                        className="w-full p-2 border rounded"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2">GTA Slots Needed</label>
                                    <input
                                        type="number"
                                        min="1"
                                        value={newPractical.slots}
                                        onChange={(e) => setNewPractical({ ...newPractical, slots: parseInt(e.target.value) })}
                                        className="w-full p-2 border rounded"
                                    />
                                </div>
                            </div>

                            <button
                                onClick={() => {
                                    if (newPractical.name && newPractical.date) {
                                        addPractical(newPractical);
                                        setNewPractical({ name: '', date: '', slots: 5 });
                                    }
                                }}
                                className="bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700"
                            >
                                Add Practical
                            </button>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">Current Practicals ({practicals.length})</h3>
                            <div className="space-y-2">
                                {practicals.map(practical => (
                                    <div key={practical.id} className="flex justify-between items-center p-3 bg-gray-50 rounded">
                                        <div>
                                            <div className="font-medium">{practical.name}</div>
                                            <div className="text-sm text-gray-600">
                                                {new Date(practical.date).toLocaleDateString()} • {practical.slots} slots
                                            </div>
                                        </div>
                                        <button
                                            onClick={() => deletePractical(practical.id)}
                                            className="text-red-600 hover:text-red-800 px-3 py-1 border border-red-300 rounded"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">Student Submissions ({submissions.length})</h3>
                            <div className="space-y-2">
                                {submissions.map(sub => (
                                    <div key={sub.id} className="p-3 bg-blue-50 rounded">
                                        <div className="font-medium">{sub.name} ({sub.email})</div>
                                        <div className="text-sm text-gray-600">
                                            Submitted: {new Date(sub.timestamp).toLocaleString()}
                                        </div>
                                        <div className="text-sm mt-1">
                                            <span className="font-medium">Preferences: </span>
                                            {sub.preferences.map((prefId, idx) => {
                                                const practical = practicals.find(p => p.id === prefId);
                                                return practical ? `${idx + 1}. ${practical.name}` : '';
                                            }).join(' • ')}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h3 className="text-xl font-semibold mb-4">Run Allocation</h3>
                            <p className="text-gray-600 mb-4">
                                This will allocate students to practicals based on their preferences and previous hours worked.
                                Students with fewer historical hours get priority.
                            </p>
                            <button
                                onClick={runAllocation}
                                className="bg-green-600 text-white px-6 py-3 rounded font-medium hover:bg-green-700"
                            >
                                Run Fair Allocation Algorithm
                            </button>
                        </div>

                        {allocations.length > 0 && (
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-xl font-semibold">Allocation Results ({allocations.length} total slots)</h3>
                                    <button
                                        onClick={exportAllocations}
                                        className="flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                                    >
                                        <Download size={20} className="mr-2" />
                                        Export CSV
                                    </button>
                                </div>
                                
                                <div className="grid grid-cols-3 gap-4 mb-4 p-4 bg-gray-50 rounded">
                                    <div>
                                        <div className="text-2xl font-bold text-blue-600">
                                            {new Set(allocations.map(a => a.studentEmail)).size}
                                        </div>
                                        <div className="text-sm text-gray-600">Students allocated</div>
                                    </div>
                                    <div>
                                        <div className="text-2xl font-bold text-green-600">
                                            {(allocations.reduce((sum, a) => sum + (a.preferenceRank === 1 ? 1 : 0), 0) / allocations.length * 100).toFixed(0)}%
                                        </div>
                                        <div className="text-sm text-gray-600">Got 1st choice</div>
                                    </div>
                                    <div>
                                        <div className="text-2xl font-bold text-purple-600">
                                            {(allocations.length / submissions.length).toFixed(1)}
                                        </div>
                                        <div className="text-sm text-gray-600">Avg slots per student</div>
                                    </div>
                                </div>

                                <div className="space-y-2 max-h-96 overflow-y-auto">
                                    {allocations.map((alloc, idx) => (
                                        <div key={idx} className="p-3 bg-green-50 border border-green-200 rounded">
                                            <div className="flex justify-between">
                                                <div>
                                                    <span className="font-medium">{alloc.studentName}</span>
                                                    <span className="text-gray-600 ml-2">→ {alloc.practicalName}</span>
                                                </div>
                                                <div className="text-sm text-gray-600">
                                                    Preference #{alloc.preferenceRank} • Round {alloc.round}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gray-100">
                    <div className="bg-white shadow-sm border-b">
                        <div className="max-w-6xl mx-auto px-6 py-4">
                            <div className="flex justify-between items-center">
                                <h1 className="text-2xl font-bold text-gray-800">Imperial GTA Allocator</h1>
                                <div className="flex space-x-2">
                                    <button
                                        onClick={() => setView('student')}
                                        className={`px-4 py-2 rounded flex items-center ${
                                            view === 'student' 
                                                ? 'bg-blue-600 text-white' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`}
                                    >
                                        <Users size={20} className="mr-2" />
                                        Student View
                                    </button>
                                    <button
                                        onClick={() => setView('admin')}
                                        className={`px-4 py-2 rounded flex items-center ${
                                            view === 'admin' 
                                                ? 'bg-purple-600 text-white' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`}
                                    >
                                        <Settings size={20} className="mr-2" />
                                        Admin View
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {view === 'student' ? <StudentView /> : <AdminView />}
                </div>
            );
        };

        ReactDOM.render(<GTAAllocator />, document.getElementById('root'));
    </script>
</body>
</html>
